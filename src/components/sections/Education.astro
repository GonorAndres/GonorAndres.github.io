---
import { t } from '../../i18n';
import type { Lang } from '../../i18n';
import OrganicBlob from '../decorations/OrganicBlob.astro';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;

const certificates = lang === 'es' ? [
  { name: 'Associate Data Analyst (SQL)', issuer: 'DataCamp', date: 'Ago 2024', url: 'https://drive.google.com/file/d/1EqzyjRkWOJBlU9zUTpkcUcj6QtuXRZfK/view?usp=drive_link' },
  { name: 'Associate Data Scientist R', issuer: 'DataCamp', date: 'Sep 2024', url: 'https://drive.google.com/file/d/1xVLk15A1LBbyXH1fZnd4eBTaJ4d8FLLO/view?usp=drive_link' },
  { name: 'Data Scientist in R', issuer: 'DataCamp', date: 'Oct 2024', url: 'https://drive.google.com/file/d/1Woe6xqxofloFZ9uM2f5VsdGxY-WQWCRI/view?usp=drive_link' },
] : [
  { name: 'Associate Data Analyst (SQL)', issuer: 'DataCamp', date: 'Aug 2024', url: 'https://drive.google.com/file/d/1EqzyjRkWOJBlU9zUTpkcUcj6QtuXRZfK/view?usp=drive_link' },
  { name: 'Associate Data Scientist R', issuer: 'DataCamp', date: 'Sep 2024', url: 'https://drive.google.com/file/d/1xVLk15A1LBbyXH1fZnd4eBTaJ4d8FLLO/view?usp=drive_link' },
  { name: 'Data Scientist in R', issuer: 'DataCamp', date: 'Oct 2024', url: 'https://drive.google.com/file/d/1Woe6xqxofloFZ9uM2f5VsdGxY-WQWCRI/view?usp=drive_link' },
];

const education = lang === 'es' ? [
  {
    degree: 'Licenciatura en Actuaria',
    school: 'Universidad Nacional Autonoma de Mexico (UNAM)',
    details: 'Facultad de Ciencias',
  },
] : [
  {
    degree: 'B.S. in Actuarial Science',
    school: 'National Autonomous University of Mexico (UNAM)',
    details: 'Faculty of Sciences',
  },
];
---

<section class="relative py-20 px-6 overflow-hidden">
  <OrganicBlob variant={4} color="#7A8B6F" class="w-[300px] h-[300px] -bottom-16 -left-16 opacity-30" />

  <div class="max-w-6xl mx-auto relative z-10">
    <div class="mb-12 md:ml-8">
      <h2 class="text-3xl md:text-4xl font-bold text-navy fade-up">
        {t(lang, 'section.education')}
      </h2>
    </div>

    <div class="md:ml-16 space-y-8">
      {education.map((edu) => (
        <div class="relative pl-6 border-l-2 border-amber/40 fade-up">
          <div class="absolute -left-[9px] top-1 w-4 h-4 rounded-full bg-terracotta"></div>
          <h3 class="font-serif text-xl font-bold text-navy">{edu.degree}</h3>
          <p class="text-navy/70 mt-1">{edu.school}</p>
          <p class="text-sm text-sage mt-0.5">{edu.details}</p>
        </div>
      ))}

      <div class="mt-12 fade-up">
        <h3 class="font-serif text-xl font-bold text-navy mb-4">
          {t(lang, 'education.certificates')}
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          {certificates.map((cert) => (
            <a
              href={cert.url}
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center gap-3 pl-6 text-navy/80 hover:text-terracotta transition-colors group"
            >
              <svg class="w-4 h-4 shrink-0 text-amber group-hover:text-terracotta transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              <div>
                <span class="font-medium">{cert.name}</span>
                <span class="text-sm text-navy/50 ml-2">{cert.issuer} Â· {cert.date}</span>
              </div>
            </a>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>
