---
import { t } from '../../i18n';
import type { Lang } from '../../i18n';
import OrganicBlob from '../decorations/OrganicBlob.astro';
import Squiggle from '../decorations/Squiggle.astro';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;

interface Note {
  title: string;
  description: string;
  urls: { label: string; url: string }[];
  tags: string[];
}

const notes: Note[] = lang === 'es' ? [
  {
    title: 'Black-Scholes, FRA & IRS',
    description: 'Un solo documento que conecta cuatro mundos: como ponerle precio a lo que nadie sabe cuanto vale (derivados exoticos), como leer el futuro en las curvas de tasas del Tesoro, como dos empresas pueden intercambiar riesgo con un swap, y como armar un portafolio que no dependa de la suerte. Todo resuelto con Python y atado por la misma logica de no-arbitraje. Examen integrador de Metodos Cuantitativos en Finanzas, UNAM.',
    urls: [
      { label: 'Ver PDF', url: 'https://drive.google.com/file/d/1trkP2RDp5ZIEynS8-rV4rkADdzfdhPuW/view?usp=drive_link' },
    ],
    tags: ['Black-Scholes', 'FRA/IRS', 'CAPM', 'Python'],
  },
  {
    title: 'Series de Tiempo: Temperatura en Delhi',
    description: 'Cinco anios de temperatura en Delhi contados por los datos: encontrar el patron estacional escondido en el ruido, separar lo que es tendencia real de lo que es variacion aleatoria, y construir un modelo en R que pueda anticipar lo que viene. El tipo de ejercicio donde la estadistica deja de ser abstracta y se vuelve clima. Proyecto del curso de Analisis de Supervivencia y Series de Tiempo, UNAM.',
    urls: [
      { label: 'Ver PDF', url: 'https://drive.google.com/file/d/1-t7sihOVxHWceLPPOFnZBDrdhkBsXKmP/view?usp=drive_link' },
    ],
    tags: ['R', 'Series de Tiempo', 'ARIMA'],
  },
  {
    title: 'A/B Testing: Bayesiano vs Frecuentista',
    description: 'La misma pregunta, dos formas de pensar: el enfoque clasico dice que no hay evidencia suficiente, el bayesiano dice que casi seguro B es mejor. Este resumen explora que pasa cuando dejas de depender solo del p-valor y empiezas a pensar en utilidad esperada para decidir. Proyecto personal de exploracion estadistica. Disponible en ambos idiomas.',
    urls: [
      { label: 'Resumen ES', url: 'https://drive.google.com/file/d/1i-9ZWjJieLJnb3CnEEdb4FKQd_cIKFff/view?usp=drive_link' },
      { label: 'Summary EN', url: 'https://drive.google.com/file/d/1kguG7XKBYd6OLJ3nI1z-Syt7Ozcq0mUB/view?usp=drive_link' },
    ],
    tags: ['Estadistica', 'Bayes', 'Python'],
  },
  {
    title: 'GLM para Modelos Actuariales',
    description: 'De la teoria a la produccion: como las aseguradoras realmente estiman frecuencia de siniestros, severidad y caida de polizas. Este apunte recorre desde la familia exponencial y funciones liga hasta validacion con curvas ROC, coeficiente de Gini y tablas de relatividad. Tres casos de estudio completos: autos, vida y riesgos de trabajo. Apunte personal de sintesis actuarial.',
    urls: [
      { label: 'Ver PDF', url: 'https://drive.google.com/file/d/1jJ2eJ9ceVogmDLPf6nAtY4JAo-XEiAOE/view?usp=sharing' },
    ],
    tags: ['GLM', 'Actuaria', 'Seguros'],
  },
  {
    title: 'Black-Scholes y la Log-Normal',
    description: 'Por que la volatilidad no es solo ruido sino una fuerza que separa la mediana del promedio, y como eso hace que las opciones valgan mas de lo que la intuicion sugiere. Un recorrido por el movimiento browniano geometrico, la distribucion del precio terminal y el efecto del "volatility drag". Apunte personal de finanzas cuantitativas.',
    urls: [
      { label: 'Ver PDF', url: 'https://drive.google.com/file/d/10jLATDsw39CHDKb7T04gqy3GUezJRx6D/view?usp=drive_link' },
    ],
    tags: ['Black-Scholes', 'Log-Normal', 'Volatilidad'],
  },
  {
    title: 'Ajuste Parametrico de Rendimientos Financieros',
    description: 'El camino completo para modelar rendimientos: desde elegir entre normal y log-normal, pasando por momentos y maxima verosimilitud, hasta llegar al VaR parametrico. Con pruebas de bondad de ajuste, Q-Q plots y criterios de informacion para no quedarse solo con la primera distribucion que parezca funcionar. Apunte del curso de Mercados Financieros, UNAM.',
    urls: [
      { label: 'Ver PDF', url: 'https://drive.google.com/file/d/1229dImQ9xEY2tZdh4Wr5KIyNUIRgv3Vz/view?usp=sharing' },
    ],
    tags: ['VaR', 'MLE', 'Finanzas'],
  },
  {
    title: 'Prediccion Probabilistica de Erupciones Volcanicas',
    description: 'Que tienen en comun un actuario y un volcanolog? Que ambos intentan predecir eventos raros con consecuencias enormes. Este apunte revisa como se modelan los intervalos entre erupciones del Popocatepetl y el Galeras con distribuciones log-normal, modelos de Markov y procesos de renovacion. Las preguntas abiertas al final son genuinamente fascinantes. Apunte personal de probabilidad aplicada.',
    urls: [
      { label: 'Ver PDF', url: 'https://drive.google.com/file/d/1eaQmrc0HuQ5fXli6E5HQ54N5vRNkFT9o/view?usp=sharing' },
    ],
    tags: ['Probabilidad', 'Volcanes', 'Modelos'],
  },
] : [
  {
    title: 'Black-Scholes, FRA & IRS',
    description: 'One document tying four worlds together: how to price what nobody knows the value of (exotic derivatives), how to read the future in Treasury yield curves, how two firms can swap risk through an IRS, and how to build a portfolio that doesn\'t rely on luck. All solved in Python and bound by the same no-arbitrage logic. Integrative exam for Quantitative Methods in Finance, UNAM.',
    urls: [
      { label: 'View PDF', url: 'https://drive.google.com/file/d/1trkP2RDp5ZIEynS8-rV4rkADdzfdhPuW/view?usp=drive_link' },
    ],
    tags: ['Black-Scholes', 'FRA/IRS', 'CAPM', 'Python'],
  },
  {
    title: 'Time Series: Delhi Temperature',
    description: 'Five years of Delhi temperature told through data: finding the seasonal pattern hidden in the noise, separating real trend from random variation, and building a model in R that can anticipate what comes next. The kind of exercise where statistics stops being abstract and becomes weather. Course project for Survival Analysis and Time Series, UNAM.',
    urls: [
      { label: 'View PDF', url: 'https://drive.google.com/file/d/1-t7sihOVxHWceLPPOFnZBDrdhkBsXKmP/view?usp=drive_link' },
    ],
    tags: ['R', 'Time Series', 'ARIMA'],
  },
  {
    title: 'A/B Testing: Bayesian vs Frequentist',
    description: 'Same question, two ways of thinking: the classical approach says there\'s not enough evidence, the Bayesian one says B is almost certainly better. This summary explores what happens when you stop relying solely on the p-value and start thinking in terms of expected utility to decide. Personal statistical exploration project. Available in both languages.',
    urls: [
      { label: 'Resumen ES', url: 'https://drive.google.com/file/d/1i-9ZWjJieLJnb3CnEEdb4FKQd_cIKFff/view?usp=drive_link' },
      { label: 'Summary EN', url: 'https://drive.google.com/file/d/1kguG7XKBYd6OLJ3nI1z-Syt7Ozcq0mUB/view?usp=drive_link' },
    ],
    tags: ['Statistics', 'Bayes', 'Python'],
  },
  {
    title: 'GLM for Actuarial Models',
    description: 'From theory to production: how insurers actually estimate claim frequency, severity, and policy lapse. This note walks from exponential families and link functions through validation with ROC curves, Gini coefficients, and relativity tables. Three full case studies: auto, life, and workers\' comp. Personal actuarial synthesis note.',
    urls: [
      { label: 'View PDF', url: 'https://drive.google.com/file/d/1jJ2eJ9ceVogmDLPf6nAtY4JAo-XEiAOE/view?usp=sharing' },
    ],
    tags: ['GLM', 'Actuarial', 'Insurance'],
  },
  {
    title: 'Black-Scholes and the Log-Normal',
    description: 'Why volatility isn\'t just noise but a force that pulls the median away from the mean, and how that makes options worth more than intuition suggests. A walkthrough of geometric Brownian motion, the terminal price distribution, and the "volatility drag" effect. Personal quantitative finance note.',
    urls: [
      { label: 'View PDF', url: 'https://drive.google.com/file/d/10jLATDsw39CHDKb7T04gqy3GUezJRx6D/view?usp=drive_link' },
    ],
    tags: ['Black-Scholes', 'Log-Normal', 'Volatility'],
  },
  {
    title: 'Parametric Fitting of Financial Returns',
    description: 'The full path to modeling returns: from choosing between normal and log-normal, through moments and maximum likelihood, all the way to parametric VaR. With goodness-of-fit tests, Q-Q plots, and information criteria so you don\'t settle for the first distribution that looks right. Financial Markets course note, UNAM.',
    urls: [
      { label: 'View PDF', url: 'https://drive.google.com/file/d/1229dImQ9xEY2tZdh4Wr5KIyNUIRgv3Vz/view?usp=sharing' },
    ],
    tags: ['VaR', 'MLE', 'Finance'],
  },
  {
    title: 'Probabilistic Forecasting of Volcanic Eruptions',
    description: 'What do an actuary and a volcanologist have in common? Both try to predict rare events with enormous consequences. This note reviews how eruption intervals for Popocatepetl and Galeras are modeled with log-normal distributions, Markov models, and renewal processes. The open questions at the end are genuinely fascinating. Personal applied probability note.',
    urls: [
      { label: 'View PDF', url: 'https://drive.google.com/file/d/1eaQmrc0HuQ5fXli6E5HQ54N5vRNkFT9o/view?usp=sharing' },
    ],
    tags: ['Probability', 'Volcanoes', 'Models'],
  },
];
---

<section class="relative py-20 px-6 overflow-hidden">
  <OrganicBlob variant={3} color="#D4A574" class="w-[250px] h-[250px] -top-10 -right-10 opacity-20" />

  <div class="max-w-6xl mx-auto relative z-10">
    <div class="mb-8 md:ml-8">
      <h2 class="text-3xl md:text-4xl font-bold text-navy fade-up">
        {t(lang, 'section.sharedNotes')}
      </h2>
      <p class="text-navy/60 mt-2 fade-up">{t(lang, 'sharedNotes.subtitle')}</p>
      <Squiggle class="w-32 h-4 mt-2" color="#D4A574" />
    </div>

    <div class="md:ml-16 space-y-4">
      {notes.map((note) => (
        <div class="p-5 rounded-lg border border-amber/20 hover:border-amber/50 hover:shadow-sm transition-all duration-300 fade-up group">
          <div class="flex items-start justify-between gap-4">
            <div class="flex-1">
              <h3 class="font-serif text-lg font-bold text-navy group-hover:text-terracotta transition-colors">
                {note.title}
              </h3>
              <p class="text-navy/70 text-sm mt-1">{note.description}</p>
              <div class="flex flex-wrap gap-2 mt-3">
                {note.tags.map((tag) => (
                  <span class="text-xs px-2 py-0.5 rounded-full bg-sage/20 text-sage">{tag}</span>
                ))}
              </div>
            </div>
          </div>
          <div class="flex flex-wrap gap-3 mt-4">
            {note.urls.map((link) => (
              <a
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center gap-1.5 text-sm font-medium text-terracotta hover:text-terracotta/80 transition-colors"
              >
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
                {link.label}
              </a>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
